{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Development\\\\QA\\\\OldQA\\\\web\\\\src\\\\components\\\\Profile\\\\ProfileAvatar.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { Box, Link, Avatar, MenuButton, MenuItem, MenuList, Menu } from \"@chakra-ui/react\";\nimport NextLink from \"next/link\";\nimport { useApolloClient } from \"@apollo/client\";\nimport { useLogoutMutation } from \"../../generated/graphql\";\nimport { useRouter } from \"next/router\";\nexport var ProfileAvatar = function ProfileAvatar(_ref) {\n  _s();\n\n  var email = _ref.email;\n\n  var _useLogoutMutation = useLogoutMutation(),\n      _useLogoutMutation2 = _slicedToArray(_useLogoutMutation, 2),\n      logout = _useLogoutMutation2[0],\n      logoutFetching = _useLogoutMutation2[1].loading;\n\n  var apolloClient = useApolloClient(); // let body = null;\n\n  var router = useRouter();\n  return __jsx(Box, {\n    mx: \"auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, __jsx(Menu, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, __jsx(MenuButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, __jsx(Avatar, {\n    name: email,\n    bg: \"yellow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  })), __jsx(MenuList, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, __jsx(MenuItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, __jsx(NextLink, {\n    href: \"/profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 15\n    }\n  }, \"Profile\"))), __jsx(MenuItem, {\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return logout();\n\n            case 2:\n              _context.next = 4;\n              return router.replace(\"/login?next=\" + router.pathname);\n\n            case 4:\n              _context.next = 6;\n              return apolloClient.resetStore();\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })),\n    isLoading: logoutFetching,\n    variant: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, \"Logout\"))));\n};\n\n_s(ProfileAvatar, \"Q2SVluACrK6f9S48oHjn84rmjxw=\", false, function () {\n  return [useLogoutMutation, useApolloClient, useRouter];\n});\n\n_c = ProfileAvatar;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileAvatar\");","map":{"version":3,"sources":["D:/Development/QA/OldQA/web/src/components/Profile/ProfileAvatar.tsx"],"names":["React","Box","Link","Avatar","MenuButton","MenuItem","MenuList","Menu","NextLink","useApolloClient","useLogoutMutation","useRouter","ProfileAvatar","email","logout","logoutFetching","loading","apolloClient","router","replace","pathname","resetStore"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,GADF,EAEEC,IAFF,EAGEC,MAHF,EAIEC,UAJF,EAKEC,QALF,EAMEC,QANF,EAOEC,IAPF,QAQO,kBARP;AASA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,eAAT,QAAgC,gBAAhC;AACA,SAASC,iBAAT,QAAkC,yBAAlC;AACA,SAASC,SAAT,QAA0B,aAA1B;AAMA,OAAO,IAAMC,aAA2C,GAAG,SAA9CA,aAA8C,OAAe;AAAA;;AAAA,MAAZC,KAAY,QAAZA,KAAY;;AAAA,2BAC1BH,iBAAiB,EADS;AAAA;AAAA,MACjEI,MADiE;AAAA,MAC9CC,cAD8C,0BACvDC,OADuD;;AAExE,MAAMC,YAAY,GAAGR,eAAe,EAApC,CAFwE,CAGxE;;AACA,MAAMS,MAAM,GAAGP,SAAS,EAAxB;AAEA,SACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAEE,KAAd;AAAqB,IAAA,EAAE,EAAC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AAAU,IAAA,IAAI,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,CADF,EAME,MAAC,QAAD;AACE,IAAA,OAAO,wEAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACDC,MAAM,EADL;;AAAA;AAAA;AAAA,qBAEDI,MAAM,CAACC,OAAP,CAAe,iBAAiBD,MAAM,CAACE,QAAvC,CAFC;;AAAA;AAAA;AAAA,qBAGDH,YAAY,CAACI,UAAb,EAHC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF,EADT;AAME,IAAA,SAAS,EAAEN,cANb;AAOE,IAAA,OAAO,EAAC,MAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,CAJF,CADF,CADF;AA2BD,CAjCM;;GAAMH,a;UACmCF,iB,EACzBD,e,EAENE,S;;;KAJJC,a","sourcesContent":["import React from \"react\";\r\nimport {\r\n  Box,\r\n  Link,\r\n  Avatar,\r\n  MenuButton,\r\n  MenuItem,\r\n  MenuList,\r\n  Menu,\r\n} from \"@chakra-ui/react\";\r\nimport NextLink from \"next/link\";\r\nimport { useApolloClient } from \"@apollo/client\";\r\nimport { useLogoutMutation } from \"../../generated/graphql\";\r\nimport { useRouter } from \"next/router\";\r\n\r\ninterface ProfileAvatarProps {\r\n  email: string | undefined;\r\n}\r\n\r\nexport const ProfileAvatar: React.FC<ProfileAvatarProps> = ({ email }) => {\r\n  const [logout, { loading: logoutFetching }] = useLogoutMutation();\r\n  const apolloClient = useApolloClient();\r\n  // let body = null;\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <Box mx=\"auto\">\r\n      <Menu>\r\n        <MenuButton>\r\n          <Avatar name={email} bg=\"yellow\" />\r\n        </MenuButton>\r\n        <MenuList>\r\n          <MenuItem>\r\n            <NextLink href=\"/profile\">\r\n              <Link>Profile</Link>\r\n            </NextLink>\r\n          </MenuItem>\r\n          <MenuItem\r\n            onClick={async () => {\r\n              await logout();\r\n              await router.replace(\"/login?next=\" + router.pathname);\r\n              await apolloClient.resetStore();\r\n            }}\r\n            isLoading={logoutFetching}\r\n            variant=\"link\"\r\n          >\r\n            Logout\r\n          </MenuItem>\r\n        </MenuList>\r\n      </Menu>\r\n    </Box>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}