{"ast":null,"code":"var _jsxFileName = \"D:\\\\Development\\\\QA\\\\OldQA\\\\web\\\\src\\\\pages\\\\index.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { Layout } from \"../components/Layout\";\nimport { useIsAuth } from \"../utils/useIsAuth\";\nimport { withApollo } from \"../utils/withApollo\";\nimport EMailActivity from \"../components/Mail_Activity\";\nimport { useMeQuery } from \"../generated/graphql\";\nimport { isServer } from \"../utils/isServer\";\nimport UsersMailsActivities from \"../components/UserMailActivity\";\n\nconst Index = () => {\n  var _data$me2;\n\n  useIsAuth();\n  const {\n    0: userId,\n    1: setUserId\n  } = useState(0);\n  const {\n    data,\n    loading\n  } = useMeQuery({\n    skip: isServer()\n  });\n  useEffect(() => {\n    if (data) {\n      var _data$me;\n\n      if ((data === null || data === void 0 ? void 0 : (_data$me = data.me) === null || _data$me === void 0 ? void 0 : _data$me.role) !== \"admin\") {\n        setUserId(data.me.id);\n      }\n    }\n  }, [data]);\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, loading ? \"\" : (data === null || data === void 0 ? void 0 : (_data$me2 = data.me) === null || _data$me2 === void 0 ? void 0 : _data$me2.role) === \"admin\" ? __jsx(EMailActivity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }) : userId !== 0 ? __jsx(UsersMailsActivities, {\n    id: userId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }) : \"\");\n};\n\nexport default withApollo({\n  ssr: false\n})(Index);","map":{"version":3,"sources":["D:/Development/QA/OldQA/web/src/pages/index.tsx"],"names":["React","useState","useEffect","Layout","useIsAuth","withApollo","EMailActivity","useMeQuery","isServer","UsersMailsActivities","Index","userId","setUserId","data","loading","skip","me","role","id","ssr"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,UAAT,QAA2B,sBAA3B;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,oBAAP,MAAiC,gCAAjC;;AACA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAClBN,EAAAA,SAAS;AACT,QAAM;AAAA,OAACO,MAAD;AAAA,OAASC;AAAT,MAAsBX,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM;AAAEY,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBP,UAAU,CAAC;AACnCQ,IAAAA,IAAI,EAAEP,QAAQ;AADqB,GAAD,CAApC;AAGAN,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIW,IAAJ,EAAU;AAAA;;AACR,UAAI,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,wBAAAA,IAAI,CAAEG,EAAN,sDAAUC,IAAV,MAAmB,OAAvB,EAAgC;AAC9BL,QAAAA,SAAS,CAACC,IAAI,CAACG,EAAL,CAASE,EAAV,CAAT;AACD;AACF;AACF,GANQ,EAMN,CAACL,IAAD,CANM,CAAT;AAOA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,OAAO,GACN,EADM,GAEJ,CAAAD,IAAI,SAAJ,IAAAA,IAAI,WAAJ,yBAAAA,IAAI,CAAEG,EAAN,wDAAUC,IAAV,MAAmB,OAAnB,GACF,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,GAEAN,MAAM,KAAK,CAAX,GACF,MAAC,oBAAD;AAAsB,IAAA,EAAE,EAAEA,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,GAGF,EARJ,CADF;AAaD,CA1BD;;AA4BA,eAAeN,UAAU,CAAC;AAAEc,EAAAA,GAAG,EAAE;AAAP,CAAD,CAAV,CAA2BT,KAA3B,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Layout } from \"../components/Layout\";\r\nimport { useIsAuth } from \"../utils/useIsAuth\";\r\nimport { withApollo } from \"../utils/withApollo\";\r\nimport EMailActivity from \"../components/Mail_Activity\";\r\nimport { useMeQuery } from \"../generated/graphql\";\r\nimport { isServer } from \"../utils/isServer\";\r\nimport UsersMailsActivities from \"../components/UserMailActivity\";\r\nconst Index = () => {\r\n  useIsAuth();\r\n  const [userId, setUserId] = useState(0);\r\n  const { data, loading } = useMeQuery({\r\n    skip: isServer(),\r\n  });\r\n  useEffect(() => {\r\n    if (data) {\r\n      if (data?.me?.role !== \"admin\") {\r\n        setUserId(data.me!.id);\r\n      }\r\n    }\r\n  }, [data]);\r\n  return (\r\n    <Layout>\r\n      {loading ? (\r\n        \"\"\r\n      ) : data?.me?.role === \"admin\" ? (\r\n        <EMailActivity />\r\n      ) : userId !== 0 ? (\r\n        <UsersMailsActivities id={userId} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default withApollo({ ssr: false })(Index);\r\n"]},"metadata":{},"sourceType":"module"}