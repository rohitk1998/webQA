{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"D:\\\\Development\\\\QA\\\\OldQA\\\\web\\\\src\\\\pages\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { Layout } from \"../components/Layout\";\nimport { useIsAuth } from \"../utils/useIsAuth\";\nimport { withApollo } from \"../utils/withApollo\";\nimport EMailActivity from \"../components/Mail_Activity\";\nimport { useMeQuery } from \"../generated/graphql\";\nimport { isServer } from \"../utils/isServer\";\nimport UsersMailsActivities from \"../components/UserMailActivity\";\n\nvar Index = function Index() {\n  _s();\n\n  var _data$me2;\n\n  useIsAuth();\n\n  var _useState = useState(0),\n      userId = _useState[0],\n      setUserId = _useState[1];\n\n  var _useMeQuery = useMeQuery({\n    skip: isServer()\n  }),\n      data = _useMeQuery.data,\n      loading = _useMeQuery.loading;\n\n  useEffect(function () {\n    if (data) {\n      var _data$me;\n\n      if ((data === null || data === void 0 ? void 0 : (_data$me = data.me) === null || _data$me === void 0 ? void 0 : _data$me.role) !== \"admin\") {\n        setUserId(data.me.id);\n      }\n    }\n  }, [data]);\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, loading ? \"\" : (data === null || data === void 0 ? void 0 : (_data$me2 = data.me) === null || _data$me2 === void 0 ? void 0 : _data$me2.role) === \"admin\" ? __jsx(EMailActivity, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }) : userId !== 0 ? __jsx(UsersMailsActivities, {\n    id: userId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }) : \"\");\n};\n\n_s(Index, \"Y1ed2izPnHGVCmIw3obdAcPWYnk=\", false, function () {\n  return [useIsAuth, useMeQuery];\n});\n\n_c = Index;\nexport default withApollo({\n  ssr: false\n})(Index);\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["D:/Development/QA/OldQA/web/src/pages/index.tsx"],"names":["React","useState","useEffect","Layout","useIsAuth","withApollo","EMailActivity","useMeQuery","isServer","UsersMailsActivities","Index","userId","setUserId","skip","data","loading","me","role","id","ssr"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,UAAT,QAA2B,sBAA3B;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,oBAAP,MAAiC,gCAAjC;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA;;AAAA;;AAClBN,EAAAA,SAAS;;AADS,kBAEUH,QAAQ,CAAC,CAAD,CAFlB;AAAA,MAEXU,MAFW;AAAA,MAEHC,SAFG;;AAAA,oBAGQL,UAAU,CAAC;AACnCM,IAAAA,IAAI,EAAEL,QAAQ;AADqB,GAAD,CAHlB;AAAA,MAGVM,IAHU,eAGVA,IAHU;AAAA,MAGJC,OAHI,eAGJA,OAHI;;AAMlBb,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIY,IAAJ,EAAU;AAAA;;AACR,UAAI,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,wBAAAA,IAAI,CAAEE,EAAN,sDAAUC,IAAV,MAAmB,OAAvB,EAAgC;AAC9BL,QAAAA,SAAS,CAACE,IAAI,CAACE,EAAL,CAASE,EAAV,CAAT;AACD;AACF;AACF,GANQ,EAMN,CAACJ,IAAD,CANM,CAAT;AAOA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,OAAO,GACN,EADM,GAEJ,CAAAD,IAAI,SAAJ,IAAAA,IAAI,WAAJ,yBAAAA,IAAI,CAAEE,EAAN,wDAAUC,IAAV,MAAmB,OAAnB,GACF,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,GAEAN,MAAM,KAAK,CAAX,GACF,MAAC,oBAAD;AAAsB,IAAA,EAAE,EAAEA,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,GAGF,EARJ,CADF;AAaD,CA1BD;;GAAMD,K;UACJN,S,EAE0BG,U;;;KAHtBG,K;AA4BN,eAAeL,UAAU,CAAC;AAAEc,EAAAA,GAAG,EAAE;AAAP,CAAD,CAAV,CAA2BT,KAA3B,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Layout } from \"../components/Layout\";\r\nimport { useIsAuth } from \"../utils/useIsAuth\";\r\nimport { withApollo } from \"../utils/withApollo\";\r\nimport EMailActivity from \"../components/Mail_Activity\";\r\nimport { useMeQuery } from \"../generated/graphql\";\r\nimport { isServer } from \"../utils/isServer\";\r\nimport UsersMailsActivities from \"../components/UserMailActivity\";\r\nconst Index = () => {\r\n  useIsAuth();\r\n  const [userId, setUserId] = useState(0);\r\n  const { data, loading } = useMeQuery({\r\n    skip: isServer(),\r\n  });\r\n  useEffect(() => {\r\n    if (data) {\r\n      if (data?.me?.role !== \"admin\") {\r\n        setUserId(data.me!.id);\r\n      }\r\n    }\r\n  }, [data]);\r\n  return (\r\n    <Layout>\r\n      {loading ? (\r\n        \"\"\r\n      ) : data?.me?.role === \"admin\" ? (\r\n        <EMailActivity />\r\n      ) : userId !== 0 ? (\r\n        <UsersMailsActivities id={userId} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default withApollo({ ssr: false })(Index);\r\n"]},"metadata":{},"sourceType":"module"}